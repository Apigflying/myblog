{"version":3,"sources":["webpack:///static/js/3.dc2e7ef6677610132638.js","webpack:///./src/views/my-blog/message-board/edit-message.vue?1471","webpack:///./src/components/upload/index.vue","webpack:///./src/components/upload/index.vue?79d5","webpack:///./src/views/my-blog/message-board/edit-message.vue?bfe5","webpack:///./src/views/my-blog/message-board/edit-message.vue","webpack:///src/views/my-blog/message-board/edit-message.vue","webpack:///./src/views/my-blog/message-board/edit-message.vue?beaa","webpack:///./src/components/upload/index.vue?78c3","webpack:///src/components/upload/index.vue","webpack:///./src/components/upload/index.vue?2867"],"names":["webpackJsonp","+DLj","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","+qp/","__webpack_exports__","injectStyle","ssrContext","upload","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","chooseImage","_m","_v","attrs","src","showImg","_e","ref","type","change","fileChange","staticRenderFns","esExports","components_upload","normalizeComponent","__vue_styles__","Component","FNA2","content","locals","RuV/","Object","defineProperty","value","regenerator","regenerator_default","n","asyncToGenerator","asyncToGenerator_default","helpers_extends","extends_default","user","vuex_esm","edit_message","name","data","uploadImage","imgurls","form","individualitySignature","introduce","picture","components","upload-image","computed","mounted","$refs","userMessage","methods","backToUserMessage","_this","$confirm","confirmButtonText","cancelButtonText","then","toUserMessage","$router","onSubmit","_this2","a","mark","_callee","_ref","wrap","_context","prev","next","submits","length","sent","code","$message","message","stop","_s","username","model","label","placeholder","callback","$$v","$set","expression","autosize","minRows","maxRows","resize","nativeOn","$event","message_board_edit_message","U9bz","kn/5","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_3_api_getData__","prop","event","props","fileInput","sendImgs","file_input","get","set","val","splice","$emit","input","that","files","match","alert","reader","FileReader","readAsDataURL","onload","e","result","str","re","arrs","split","filename","picBase","abrupt","submitconfig","_callee3","_ref$data","token","urlArea","urlSpace","_context3","uploadToken","all","map","_ref2","_callee2","item","_context2","putb64","url","space","_x","apply","arguments","uploads","_this3","_callee4","_callee4$","_context4","resolve","reject","getFileSize","indexOf","substring","parseInt","fsize","xhr","XMLHttpRequest","onreadystatechange","readyState","status","keyText","eval","responseText","picUrl","key","open","setRequestHeader","send","err","zToN"],"mappings":"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","file":"static/js/3.dc2e7ef6677610132638.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"+DLj\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.warning-border[data-v-05133a24] {\\n  -webkit-animation: warring-data-v-05133a24 1s infinite;\\n          animation: warring-data-v-05133a24 1s infinite;\\n}\\n@-webkit-keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n@keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n.section[data-v-05133a24] {\\n  zoom: 1;\\n}\\n.section[data-v-05133a24]:after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n}\\n.main[data-v-05133a24] {\\n  float: left;\\n  width: 680px;\\n}\\n.aside[data-v-05133a24] {\\n  float: right;\\n  width: 300px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/cxy/Desktop/my_servers/my-blog/src/views/my-blog/message-board/edit-message.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,uDAAuD;UAC/C,+CAA+C;CACxD;AACD;AACA;IACI,+DAA+D;YACvD,uDAAuD;CAClE;AACD;IACI,sDAAsD;YAC9C,8CAA8C;CACzD;AACD;IACI,+DAA+D;YACvD,uDAAuD;CAClE;CACA;AACD;AACA;IACI,+DAA+D;YACvD,uDAAuD;CAClE;AACD;IACI,sDAAsD;YAC9C,8CAA8C;CACzD;AACD;IACI,+DAA+D;YACvD,uDAAuD;CAClE;CACA;AACD;EACE,QAAQ;CACT;AACD;IACI,YAAY;IACZ,eAAe;IACf,YAAY;CACf;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,aAAa;EACb,aAAa;CACd\",\"file\":\"edit-message.vue\",\"sourcesContent\":[\"\\n.warning-border[data-v-05133a24] {\\n  -webkit-animation: warring-data-v-05133a24 1s infinite;\\n          animation: warring-data-v-05133a24 1s infinite;\\n}\\n@-webkit-keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n@keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n.section[data-v-05133a24] {\\n  zoom: 1;\\n}\\n.section[data-v-05133a24]:after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n}\\n.main[data-v-05133a24] {\\n  float: left;\\n  width: 680px;\\n}\\n.aside[data-v-05133a24] {\\n  float: right;\\n  width: 300px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"+qp/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/upload/index.vue\nvar upload = __webpack_require__(\"kn/5\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a5f3715\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/upload/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload_block\",on:{\"click\":_vm.chooseImage}},[_vm._m(0,false,false),_vm._v(\" \"),(_vm.showImg)?_c('img',{staticClass:\"file_img\",attrs:{\"src\":_vm.showImg}}):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"file_input\",staticClass:\"file_input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.fileChange}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"file_btn\"},[_c('i',{staticClass:\"el-icon-plus\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_upload = (esExports);\n// CONCATENATED MODULE: ./src/components/upload/index.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"U9bz\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a5f3715\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  upload[\"a\" /* default */],\n  components_upload,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_upload = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"FNA2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"+DLj\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"030341c0\", content, true);\n\n/***/ }),\n\n/***/ \"RuV/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"Xxa5\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"exGp\");\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(\"Dd8w\");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./src/components/upload/index.vue + 1 modules\nvar upload = __webpack_require__(\"+qp/\");\n\n// EXTERNAL MODULE: ./src/api/user.js\nvar user = __webpack_require__(\"vMJZ\");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/my-blog/message-board/edit-message.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var edit_message = ({\n  name: 'edit-message',\n  data: function data() {\n    return {\n      uploadImage: null,\n      imgurls: [],\n      form: {\n        individualitySignature: \"\",\n        introduce: \"\",\n        picture: \"\"\n      }\n    };\n  },\n\n  components: {\n    \"upload-image\": upload[\"a\" /* default */]\n  },\n  computed: extends_default()({}, Object(vuex_esm[\"c\" /* mapGetters */])(['userMessage'])),\n  mounted: function mounted() {\n    this.uploadImage = this.$refs.uploadImage;\n    if (this.userMessage) {\n      this.imgurls.push(this.userMessage.picture);\n      this.form.individualitySignature = this.userMessage.individualitySignature;\n      this.form.introduce = this.userMessage.introduce;\n    }\n  },\n\n  methods: {\n    backToUserMessage: function backToUserMessage() {\n      var _this = this;\n\n      this.$confirm(\"如果您修改了信息，点”确定“会跳转回之前的页面，并且您修改的信息都不会被保存！\", '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.toUserMessage();\n      });\n    },\n    toUserMessage: function toUserMessage() {\n      this.$router.push({\n        name: 'UserMessage'\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this2 = this;\n\n      return asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        var _ref, data;\n\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this2.uploadImage.submits();\n\n              case 2:\n                if (_this2.imgurls.length) {\n                  _this2.form.picture = _this2.imgurls[0];\n                };\n                _context.next = 6;\n                return Object(user[\"d\" /* updateUserMessage */])(_this2.form);\n\n              case 6:\n                _ref = _context.sent;\n                data = _ref.data;\n\n                if (data.code === 200) {\n                  _this2.$message({\n                    type: 'success',\n                    message: data.message\n                  });\n                  _this2.toUserMessage();\n                }\n\n              case 9:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }))();\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05133a24\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/my-blog/message-board/edit-message.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-board-wrap\"},[_c('div',{staticClass:\"cant-change\"},[_c('div',[_vm._v(\"\\n        用户名:\"+_vm._s(_vm.userMessage.username)+\"\\n      \")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"个性签名\"}},[_c('el-input',{attrs:{\"placeholder\":\"给自己个个性签名\"},model:{value:(_vm.form.individualitySignature),callback:function ($$v) {_vm.$set(_vm.form, \"individualitySignature\", $$v)},expression:\"form.individualitySignature\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"个人简介\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 6 },\"placeholder\":\"介绍一下你自己吧~~\",\"resize\":\"none\"},model:{value:(_vm.form.introduce),callback:function ($$v) {_vm.$set(_vm.form, \"introduce\", $$v)},expression:\"form.introduce\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传头像\"}},[_c('upload-image',{ref:\"uploadImage\",model:{value:(_vm.imgurls),callback:function ($$v) {_vm.imgurls=$$v},expression:\"imgurls\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.onSubmit($event)}}},[_vm._v(\"更新信息\")]),_vm._v(\" \"),_c('el-button',{nativeOn:{\"click\":function($event){_vm.backToUserMessage($event)}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var message_board_edit_message = (esExports);\n// CONCATENATED MODULE: ./src/views/my-blog/message-board/edit-message.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"FNA2\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05133a24\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  edit_message,\n  message_board_edit_message,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var my_blog_message_board_edit_message = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"U9bz\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"zToN\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"14364a7f\", content, true);\n\n/***/ }),\n\n/***/ \"kn/5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__ = __webpack_require__(\"Xxa5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"exGp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_api_getData__ = __webpack_require__(\"1h8J\");\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'upload',\n  model: {\n    prop: 'imgurls',\n    event: 'sendImg'\n  },\n  props: ['imgurls'],\n  data: function data() {\n    return {\n      fileInput: null,\n      sendImgs: [] // 保存图片信息，里面有base64信息\n    };\n  },\n  mounted: function mounted() {\n    this.fileInput = this.$refs.file_input;\n  },\n\n  computed: {\n    showImg: {\n      get: function get() {\n        return this.imgurls.length ? this.imgurls[0] : '';\n      },\n      set: function set(val) {\n        var imgurls = this.imgurls;\n        imgurls.splice(0, 1, val);\n        this.$emit('sendImg', imgurls);\n      }\n    }\n  },\n  methods: {\n    chooseImage: function chooseImage() {\n      this.fileInput.click();\n    },\n    fileChange: function fileChange() {\n      var input = this.fileInput;\n      var that = this;\n      for (var i = 0; i < input.files.length; i++) {\n        //input['value']是文件的绝对路径(带后缀名)\n        //如果存在,match返回的是一个数组，否则返回的是null\n        if (!input['value'].match(/.jpg|.jpeg|.gif|.png|.bmp/i)) {\n          return alert(\"上传的图片格式不正确，请重新选择\");\n        }\n        //全局的构造函数，读取文件的构造函数\n        var reader = new FileReader();\n        //readAsDataURL()方法，将文件转换成可读的图像文件\n        reader.readAsDataURL(input.files[i]);\n        reader.onload = function (e) {\n          that.showImg = reader.result;\n          //reader.result是图像的base64编码\n          //可以直接用这个sendImgs中的信息作为img的src来显示图片\n          var str = input['value'];\n          var re = /\\\\/g;\n          var arrs = str.split(re);\n          var filename = arrs[arrs.length - 1];\n          that.sendImgs.splice(0, 1, {\n            filename: filename,\n            picBase: this.result\n          });\n        };\n      }\n    },\n    submits: function submits() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee() {\n        var imgurls;\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.sendImgs.length) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 2:\n                _context.next = 4;\n                return _this.submitconfig();\n\n              case 4:\n                imgurls = _context.sent;\n\n                _this.$emit('sendImg', imgurls);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n    submitconfig: function submitconfig() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee3() {\n        var _ref, _ref$data, token, urlArea, urlSpace;\n\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return Object(__WEBPACK_IMPORTED_MODULE_3_api_getData__[\"e\" /* getUploadToken */])();\n\n              case 2:\n                _ref = _context3.sent;\n                _ref$data = _ref.data;\n                token = _ref$data.uploadToken;\n                urlArea = _ref$data.urlArea;\n                urlSpace = _ref$data.urlSpace;\n                _context3.next = 9;\n                return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.all(_this2.sendImgs.map(function () {\n                  var _ref2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee2(item) {\n                    var data;\n                    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return _this2.putb64({\n                              url: urlArea, //七牛云服务器所在的地区。华南：http://upload-z2.qiniu.com\n                              space: urlSpace, //外链默认域名保存默认域名\n                              uploadToken: token, //获取到的uploadtoken上传凭证\n                              picBase: item.picBase //图片的base64编码\n                            });\n\n                          case 2:\n                            data = _context2.sent;\n                            return _context2.abrupt('return', data);\n\n                          case 4:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this2);\n                  }));\n\n                  return function (_x) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }()));\n\n              case 9:\n                return _context3.abrupt('return', _context3.sent);\n\n              case 10:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }))();\n    },\n    putb64: function putb64(uploads) {\n      var _this3 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee4() {\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(uploads.url == '' || uploads.space == '' || uploads.uploadToken == '' || uploads.picBase == '')) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                alert('有必传项没有填写');\n                return _context4.abrupt('return', '');\n\n              case 3:\n                return _context4.abrupt('return', new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                  try {\n                    //计算base64文件大小\n                    var getFileSize = function getFileSize(str) {\n                      var indexOf = str.indexOf('=');\n                      if (indexOf > 0) {\n                        //如果有=存在，将=过滤掉\n                        str = str.substring(0, indexOf);\n                      }\n                      var fsize = parseInt(str.length - str.length / 8 * 2);\n                      return fsize;\n                    };\n                    uploads.picBase = uploads.picBase.split(',')[1];\n                    var fsize = getFileSize(uploads.picBase);\n                    var url = uploads.url + '/putb64/' + fsize;\n                    var xhr = new XMLHttpRequest();\n                    xhr.onreadystatechange = function () {\n                      if (xhr.readyState == 4) {\n                        var status = xhr.status;\n                        if (status >= 200 && status < 300) {\n                          var keyText = eval('(' + xhr.responseText + ')');\n                          var picUrl = 'http://' + uploads.space + '/' + keyText.key;\n                          //七牛云返回的图片的url\n                          resolve(picUrl);\n                        } else {\n                          reject(status);\n                        }\n                      }\n                    };\n                    xhr.open('POST', url, true);\n                    xhr.setRequestHeader('Content-Type', 'application/octet-stream');\n                    xhr.setRequestHeader('Authorization', 'UpToken ' + uploads.uploadToken);\n                    xhr.send(uploads.picBase);\n                  } catch (err) {\n                    reject(err);\n                  }\n                }));\n\n              case 4:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this3);\n      }))();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"zToN\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.upload_block[data-v-2a5f3715] {\\n  display: inline-block;\\n  width: 178px;\\n  height: 178px;\\n  position: relative;\\n}\\n.upload_block .file_btn[data-v-2a5f3715] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border: 1px dashed #d9d9d9;\\n    background-color: rgba(190, 190, 190, 0.466);\\n    border-radius: 6px;\\n    cursor: pointer;\\n    position: absolute;\\n    overflow: hidden;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    z-index: 1;\\n    -webkit-transition: 0.3s border-color;\\n    transition: 0.3s border-color;\\n}\\n.upload_block .file_btn i[data-v-2a5f3715] {\\n      -webkit-transition: 0.3s color;\\n      transition: 0.3s color;\\n}\\n.upload_block .file_btn[data-v-2a5f3715]:hover {\\n      border-color: #409eff;\\n}\\n.upload_block .file_btn:hover i[data-v-2a5f3715] {\\n        color: #409eff;\\n}\\n.upload_block .file_input[data-v-2a5f3715] {\\n    display: none;\\n}\\n.upload_block .file_img[data-v-2a5f3715] {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border-radius: 6px;\\n    overflow: hidden;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/cxy/Desktop/my_servers/my-blog/src/components/upload/index.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,sBAAsB;EACtB,aAAa;EACb,cAAc;EACd,mBAAmB;CACpB;AACD;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,QAAQ;IACR,SAAS;IACT,OAAO;IACP,UAAU;IACV,2BAA2B;IAC3B,6CAA6C;IAC7C,mBAAmB;IACnB,gBAAgB;IAChB,mBAAmB;IACnB,iBAAiB;IACjB,yBAAyB;QACrB,sBAAsB;YAClB,wBAAwB;IAChC,0BAA0B;QACtB,uBAAuB;YACnB,oBAAoB;IAC5B,WAAW;IACX,sCAAsC;IACtC,8BAA8B;CACjC;AACD;MACM,+BAA+B;MAC/B,uBAAuB;CAC5B;AACD;MACM,sBAAsB;CAC3B;AACD;QACQ,eAAe;CACtB;AACD;IACI,cAAc;CACjB;AACD;IACI,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,QAAQ;IACR,SAAS;IACT,OAAO;IACP,UAAU;IACV,mBAAmB;IACnB,iBAAiB;CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.upload_block[data-v-2a5f3715] {\\n  display: inline-block;\\n  width: 178px;\\n  height: 178px;\\n  position: relative;\\n}\\n.upload_block .file_btn[data-v-2a5f3715] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border: 1px dashed #d9d9d9;\\n    background-color: rgba(190, 190, 190, 0.466);\\n    border-radius: 6px;\\n    cursor: pointer;\\n    position: absolute;\\n    overflow: hidden;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    z-index: 1;\\n    -webkit-transition: 0.3s border-color;\\n    transition: 0.3s border-color;\\n}\\n.upload_block .file_btn i[data-v-2a5f3715] {\\n      -webkit-transition: 0.3s color;\\n      transition: 0.3s color;\\n}\\n.upload_block .file_btn[data-v-2a5f3715]:hover {\\n      border-color: #409eff;\\n}\\n.upload_block .file_btn:hover i[data-v-2a5f3715] {\\n        color: #409eff;\\n}\\n.upload_block .file_input[data-v-2a5f3715] {\\n    display: none;\\n}\\n.upload_block .file_img[data-v-2a5f3715] {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border-radius: 6px;\\n    overflow: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.dc2e7ef6677610132638.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.warning-border[data-v-05133a24] {\\n  -webkit-animation: warring-data-v-05133a24 1s infinite;\\n          animation: warring-data-v-05133a24 1s infinite;\\n}\\n@-webkit-keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n@keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n.section[data-v-05133a24] {\\n  zoom: 1;\\n}\\n.section[data-v-05133a24]:after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n}\\n.main[data-v-05133a24] {\\n  float: left;\\n  width: 680px;\\n}\\n.aside[data-v-05133a24] {\\n  float: right;\\n  width: 300px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/cxy/Desktop/my_servers/my-blog/src/views/my-blog/message-board/edit-message.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,uDAAuD;UAC/C,+CAA+C;CACxD;AACD;AACA;IACI,+DAA+D;YACvD,uDAAuD;CAClE;AACD;IACI,sDAAsD;YAC9C,8CAA8C;CACzD;AACD;IACI,+DAA+D;YACvD,uDAAuD;CAClE;CACA;AACD;AACA;IACI,+DAA+D;YACvD,uDAAuD;CAClE;AACD;IACI,sDAAsD;YAC9C,8CAA8C;CACzD;AACD;IACI,+DAA+D;YACvD,uDAAuD;CAClE;CACA;AACD;EACE,QAAQ;CACT;AACD;IACI,YAAY;IACZ,eAAe;IACf,YAAY;CACf;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,aAAa;EACb,aAAa;CACd\",\"file\":\"edit-message.vue\",\"sourcesContent\":[\"\\n.warning-border[data-v-05133a24] {\\n  -webkit-animation: warring-data-v-05133a24 1s infinite;\\n          animation: warring-data-v-05133a24 1s infinite;\\n}\\n@-webkit-keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n@keyframes warring-data-v-05133a24 {\\n0% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n50% {\\n    -webkit-box-shadow: 0px 0px 0px 0px transparent inset;\\n            box-shadow: 0px 0px 0px 0px transparent inset;\\n}\\n100% {\\n    -webkit-box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n            box-shadow: 0px 0px 1px 1px rgba(255, 0, 0, 0.7) inset;\\n}\\n}\\n.section[data-v-05133a24] {\\n  zoom: 1;\\n}\\n.section[data-v-05133a24]:after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n}\\n.main[data-v-05133a24] {\\n  float: left;\\n  width: 680px;\\n}\\n.aside[data-v-05133a24] {\\n  float: right;\\n  width: 300px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-05133a24\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/my-blog/message-board/edit-message.vue\n// module id = +DLj\n// module chunks = 3","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a5f3715\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a5f3715\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a5f3715\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/upload/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload_block\",on:{\"click\":_vm.chooseImage}},[_vm._m(0,false,false),_vm._v(\" \"),(_vm.showImg)?_c('img',{staticClass:\"file_img\",attrs:{\"src\":_vm.showImg}}):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"file_input\",staticClass:\"file_input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.fileChange}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"file_btn\"},[_c('i',{staticClass:\"el-icon-plus\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a5f3715\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/upload/index.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05133a24\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./edit-message.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"030341c0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-05133a24\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/my-blog/message-board/edit-message.vue\n// module id = FNA2\n// module chunks = 3","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05133a24\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit-message.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit-message.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05133a24\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit-message.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05133a24\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/my-blog/message-board/edit-message.vue\n// module id = null\n// module chunks = ","<template>\n<!-- 用户编辑自己的信息 -->\n  <div class=\"message-board-wrap\">\n    <div class=\"cant-change\">\n      <!-- 不可修改项 -->\n      <div>\n        用户名:{{userMessage.username}}\n      </div>\n    </div>\n    <el-form ref=\"form\" :model=\"form\">\n      <el-form-item label=\"个性签名\">\n        <el-input v-model=\"form.individualitySignature\" placeholder=\"给自己个个性签名\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"个人简介\">\n        <el-input v-model=\"form.introduce\" type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 6 }\" placeholder=\"介绍一下你自己吧~~\" resize=\"none\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"上传头像\">\n        <upload-image v-model=\"imgurls\" ref=\"uploadImage\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click.native=\"onSubmit\">更新信息</el-button>\n        <el-button @click.native=\"backToUserMessage\">取消</el-button>\n      </el-form-item>\n    </el-form>\n\n  </div>\n</template>\n<script>\nimport UploadImage from 'components/upload';\nimport { updateUserMessage } from 'api/user';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'edit-message',\n  data () {\n    return {\n      uploadImage: null,\n      imgurls: [],\n      form: {\n        individualitySignature: \"\",\n        introduce: \"\",\n        picture: \"\",\n      }\n    }\n  },\n  components: {\n    \"upload-image\": UploadImage\n  },\n  computed: {\n    ...mapGetters(['userMessage']),\n  },\n  mounted () {\n    this.uploadImage = this.$refs.uploadImage;\n    if(this.userMessage){\n      this.imgurls.push(this.userMessage.picture);\n      this.form.individualitySignature = this.userMessage.individualitySignature;\n      this.form.introduce = this.userMessage.introduce;\n    }\n  },\n  methods: {\n    backToUserMessage () {\n      this.$confirm(\"如果您修改了信息，点”确定“会跳转回之前的页面，并且您修改的信息都不会被保存！\", '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.toUserMessage();\n      });\n    },\n    toUserMessage () {\n      this.$router.push({\n        name: 'UserMessage'\n      })\n    },\n    async onSubmit () {\n      // 更新用户头像图片\n      await this.uploadImage.submits();\n      if (this.imgurls.length) {\n        this.form.picture = this.imgurls[0];\n      };\n      let { data } = await updateUserMessage(this.form);\n      if (data.code === 200) {\n        this.$message({\n          type: 'success',\n          message: data.message\n        });\n        this.toUserMessage();\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import \"../../../style/base\";\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/my-blog/message-board/edit-message.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-board-wrap\"},[_c('div',{staticClass:\"cant-change\"},[_c('div',[_vm._v(\"\\n        用户名:\"+_vm._s(_vm.userMessage.username)+\"\\n      \")])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"个性签名\"}},[_c('el-input',{attrs:{\"placeholder\":\"给自己个个性签名\"},model:{value:(_vm.form.individualitySignature),callback:function ($$v) {_vm.$set(_vm.form, \"individualitySignature\", $$v)},expression:\"form.individualitySignature\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"个人简介\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 6 },\"placeholder\":\"介绍一下你自己吧~~\",\"resize\":\"none\"},model:{value:(_vm.form.introduce),callback:function ($$v) {_vm.$set(_vm.form, \"introduce\", $$v)},expression:\"form.introduce\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传头像\"}},[_c('upload-image',{ref:\"uploadImage\",model:{value:(_vm.imgurls),callback:function ($$v) {_vm.imgurls=$$v},expression:\"imgurls\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.onSubmit($event)}}},[_vm._v(\"更新信息\")]),_vm._v(\" \"),_c('el-button',{nativeOn:{\"click\":function($event){_vm.backToUserMessage($event)}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05133a24\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/my-blog/message-board/edit-message.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a5f3715\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"14364a7f\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2a5f3715\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/upload/index.vue\n// module id = U9bz\n// module chunks = 2 3","<template>\n  <div class=\"upload_block\" @click=\"chooseImage\">\n    <span class=\"file_btn\">\n      <i class=\"el-icon-plus\"></i>\n    </span>\n    <img v-if=\"showImg\" class=\"file_img\" :src=\"showImg\"/>\n    <!-- multiple 属性来添加多张图片 -->\n    <input class=\"file_input\" type=\"file\" ref=\"file_input\" @change=\"fileChange\" />\n  </div>\n</template>\n<script>\nimport { getUploadToken } from 'api/getData';\nexport default {\n  name:'upload',\n  model: {\n    prop: 'imgurls',\n    event: 'sendImg'\n  },\n  props:['imgurls'],\n  data(){\n    return {\n      fileInput:null,\n      sendImgs: [],// 保存图片信息，里面有base64信息\n    }\n  },\n  mounted(){\n    this.fileInput = this.$refs.file_input;\n  },\n  computed:{\n    showImg:{\n      get(){\n        return this.imgurls.length?this.imgurls[0]:'';\n      },\n      set(val){\n        let imgurls = this.imgurls;\n        imgurls.splice(0,1,val);\n        this.$emit('sendImg',imgurls);\n      }\n    }\n  },\n  methods:{\n    chooseImage () {\n      this.fileInput.click();\n    },\n    fileChange () {\n      let input = this.fileInput;\n      let that = this;\n      for (var i = 0; i < input.files.length; i++) {\n        //input['value']是文件的绝对路径(带后缀名)\n        //如果存在,match返回的是一个数组，否则返回的是null\n        if (!input['value'].match(/.jpg|.jpeg|.gif|.png|.bmp/i)) {\n          return alert(\"上传的图片格式不正确，请重新选择\")\n        }\n        //全局的构造函数，读取文件的构造函数\n        var reader = new FileReader();\n        //readAsDataURL()方法，将文件转换成可读的图像文件\n        reader.readAsDataURL(input.files[i]);\n        reader.onload = function (e) {\n          that.showImg = reader.result;\n          //reader.result是图像的base64编码\n          //可以直接用这个sendImgs中的信息作为img的src来显示图片\n          var str = input['value'];\n          var re = /\\\\/g;\n          var arrs = str.split(re);\n          var filename = arrs[arrs.length - 1];\n          that.sendImgs.splice(0,1,{\n            filename: filename,\n            picBase: this.result\n          });\n        }\n      }\n    },\n    async submits () {\n      if(!this.sendImgs.length){\n        return ;\n      }\n      var imgurls = await this.submitconfig();\n      this.$emit('sendImg',imgurls);\n    },\n    async submitconfig () {\n      let { data: { uploadToken: token, urlArea, urlSpace } } = await getUploadToken();\n      return await Promise.all(this.sendImgs.map(async (item) => {\n        let data = await this.putb64({\n          url: urlArea, //七牛云服务器所在的地区。华南：http://upload-z2.qiniu.com\n          space: urlSpace, //外链默认域名保存默认域名\n          uploadToken: token, //获取到的uploadtoken上传凭证\n          picBase: item.picBase //图片的base64编码\n        })\n        return data;\n      }));\n    },\n    async putb64 (uploads) {\n      if (uploads.url == '' || uploads.space == '' || uploads.uploadToken == '' || uploads.picBase == '') {\n        alert('有必传项没有填写');\n        return '';\n      }\n      return new Promise((resolve, reject) => {\n        try {\n          //计算base64文件大小\n          let getFileSize = (str) => {\n            let indexOf = str.indexOf('=')\n            if (indexOf > 0) {\n              //如果有=存在，将=过滤掉\n              str = str.substring(0, indexOf)\n            }\n            let fsize = parseInt(str.length - (str.length / 8) * 2)\n            return fsize\n          }\n          uploads.picBase = uploads.picBase.split(',')[1];\n          let fsize = getFileSize(uploads.picBase);\n          let url = `${ uploads.url }/putb64/${ fsize }`;\n          let xhr = new XMLHttpRequest();\n          xhr.onreadystatechange = () => {\n            if (xhr.readyState == 4) {\n              let status = xhr.status;\n              if (status >= 200 && status < 300) {\n                let keyText = eval(`(${ xhr.responseText })`);\n                let picUrl = `http://${ uploads.space }/${ keyText.key }`;\n                //七牛云返回的图片的url\n                resolve(picUrl);\n              } else {\n                reject(status);\n              }\n            }\n          }\n          xhr.open('POST', url, true);\n          xhr.setRequestHeader('Content-Type', 'application/octet-stream');\n          xhr.setRequestHeader('Authorization', `UpToken ${ uploads.uploadToken }`);\n          xhr.send(uploads.picBase);\n        } catch (err) {\n          reject(err);\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n// 上传模块\n.upload_block {\n  display:inline-block;\n  width: 178px;\n  height: 178px;\n  position: relative;\n  // 上传图片按钮\n  .file_btn {\n    display: flex;\n    left:0;right:0;top:0;bottom:0;\n    border: 1px dashed #d9d9d9;\n    background-color:rgba(190, 190, 190, 0.466);\n    border-radius: 6px;\n    cursor: pointer;\n    position: absolute;\n    overflow: hidden;\n    justify-content: center;\n    align-items: center;\n    z-index:1;\n    transition: 0.3s border-color;\n    i {\n      transition: 0.3s color;\n    }\n    &:hover {\n      border-color: #409eff;\n      i {\n        color: #409eff;\n      }\n    }\n  }\n  .file_input {\n    display: none;\n  }\n  .file_img {\n    width: 100%;\n    height:100%;\n    position: absolute;\n    left:0;right:0;top:0;bottom:0;\n    border-radius: 6px;\n    overflow: hidden;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/upload/index.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.upload_block[data-v-2a5f3715] {\\n  display: inline-block;\\n  width: 178px;\\n  height: 178px;\\n  position: relative;\\n}\\n.upload_block .file_btn[data-v-2a5f3715] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border: 1px dashed #d9d9d9;\\n    background-color: rgba(190, 190, 190, 0.466);\\n    border-radius: 6px;\\n    cursor: pointer;\\n    position: absolute;\\n    overflow: hidden;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    z-index: 1;\\n    -webkit-transition: 0.3s border-color;\\n    transition: 0.3s border-color;\\n}\\n.upload_block .file_btn i[data-v-2a5f3715] {\\n      -webkit-transition: 0.3s color;\\n      transition: 0.3s color;\\n}\\n.upload_block .file_btn[data-v-2a5f3715]:hover {\\n      border-color: #409eff;\\n}\\n.upload_block .file_btn:hover i[data-v-2a5f3715] {\\n        color: #409eff;\\n}\\n.upload_block .file_input[data-v-2a5f3715] {\\n    display: none;\\n}\\n.upload_block .file_img[data-v-2a5f3715] {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border-radius: 6px;\\n    overflow: hidden;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/cxy/Desktop/my_servers/my-blog/src/components/upload/index.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,sBAAsB;EACtB,aAAa;EACb,cAAc;EACd,mBAAmB;CACpB;AACD;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,QAAQ;IACR,SAAS;IACT,OAAO;IACP,UAAU;IACV,2BAA2B;IAC3B,6CAA6C;IAC7C,mBAAmB;IACnB,gBAAgB;IAChB,mBAAmB;IACnB,iBAAiB;IACjB,yBAAyB;QACrB,sBAAsB;YAClB,wBAAwB;IAChC,0BAA0B;QACtB,uBAAuB;YACnB,oBAAoB;IAC5B,WAAW;IACX,sCAAsC;IACtC,8BAA8B;CACjC;AACD;MACM,+BAA+B;MAC/B,uBAAuB;CAC5B;AACD;MACM,sBAAsB;CAC3B;AACD;QACQ,eAAe;CACtB;AACD;IACI,cAAc;CACjB;AACD;IACI,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,QAAQ;IACR,SAAS;IACT,OAAO;IACP,UAAU;IACV,mBAAmB;IACnB,iBAAiB;CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.upload_block[data-v-2a5f3715] {\\n  display: inline-block;\\n  width: 178px;\\n  height: 178px;\\n  position: relative;\\n}\\n.upload_block .file_btn[data-v-2a5f3715] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border: 1px dashed #d9d9d9;\\n    background-color: rgba(190, 190, 190, 0.466);\\n    border-radius: 6px;\\n    cursor: pointer;\\n    position: absolute;\\n    overflow: hidden;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    z-index: 1;\\n    -webkit-transition: 0.3s border-color;\\n    transition: 0.3s border-color;\\n}\\n.upload_block .file_btn i[data-v-2a5f3715] {\\n      -webkit-transition: 0.3s color;\\n      transition: 0.3s color;\\n}\\n.upload_block .file_btn[data-v-2a5f3715]:hover {\\n      border-color: #409eff;\\n}\\n.upload_block .file_btn:hover i[data-v-2a5f3715] {\\n        color: #409eff;\\n}\\n.upload_block .file_input[data-v-2a5f3715] {\\n    display: none;\\n}\\n.upload_block .file_img[data-v-2a5f3715] {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    border-radius: 6px;\\n    overflow: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2a5f3715\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/upload/index.vue\n// module id = zToN\n// module chunks = 2 3"],"sourceRoot":""}